# 字母下落射击游戏 - 项目开发介绍文档

## 1. 项目简介
本项目是一款基于 Windows API (Win32) 开发的轻量级桌面打字练习游戏。玩家通过键盘输入屏幕上随机下落的字母来进行消除，旨在提升打字速度和反应能力。游戏采用纯 C++ 编写，不依赖第三方图形库，展示了 Windows 消息驱动编程的基本原理。

## 2. 功能特性

### 2.1 核心玩法
*   **随机生成**：字母从屏幕顶部随机位置生成，颜色随机变化。
*   **键盘交互**：玩家按下对应字母键（不区分大小写）即可消除屏幕上的字母。
*   **动态难度**：随着得分增加（每10分），字母下落速度逐渐加快，游戏难度平滑上升。

### 2.2 游戏系统
*   **计分系统**：击中字母得 1 分，实时显示当前得分。
*   **等级系统**：根据得分自动计算等级（等级 = 得分/10 + 1）。
*   **生命值机制**：允许最大失败次数为 10 次。字母落地或按错键均计为一次失败，超过限制游戏结束。
*   **音效反馈**：
    *   **击中**：播放清脆的高频提示音。
    *   **失误/落地**：播放低沉的低频提示音。

### 2.3 辅助功能
*   **暂停/继续**：游戏过程中按 `ESC` 键可随时暂停游戏，再次按下继续。
*   **菜单控制**：提供标准的 Windows 菜单栏，支持开始游戏、关于信息和退出功能。

## 3. 技术实现细节

### 3.1 开发环境
*   **编程语言**：C++
*   **开发框架**：Windows API (Win32)
*   **编译器**：MinGW (GCC) / MSVC
*   **字符集**：Unicode (Wide Character)，彻底解决中文显示乱码问题。

### 3.2 核心模块
*   **消息循环 (Message Loop)**：程序入口 `WinMain` 负责初始化窗口并维护标准的消息分发循环。
*   **窗口过程 (WndProc)**：
    *   `WM_PAINT`：使用 GDI (Graphics Device Interface) 进行图形绘制，包括背景、边框、文字和分数板。
    *   `WM_TIMER`：利用 `SetTimer` 创建周期性中断（默认100ms），更新字母的垂直坐标 `y`，实现动画效果。
    *   `WM_CHAR`：捕获键盘字符输入，判断输入字符与当前下落字符是否匹配，并处理暂停逻辑 (`VK_ESCAPE`)。
*   **图形渲染**：
    *   使用 `TextOutW` 绘制 Unicode 文本。
    *   使用 `CreateFontW` 创建自定义字体（粗体 Arial）。
    *   使用 `SetTextColor` 实现动态彩色文字。
    *   使用双缓冲绘图思想（在此简单示例中直接绘制到 DC，通过 `InvalidateRect` 触发重绘）。

## 4. 编译与构建

使用 g++ 编译器进行编译，需要链接 Windows 子系统库：

```bash
g++ main.cpp -o game.exe -mwindows
```

*   `-mwindows`：指定生成 Windows GUI 应用程序，运行时不显示控制台窗口，并自动链接 `gdi32` 和 `user32` 等必要库。

## 5. 项目结构
*   `main.cpp`：包含所有源代码，包括窗口注册、消息处理、游戏逻辑和绘图函数。
