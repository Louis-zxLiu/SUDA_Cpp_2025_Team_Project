# 字母下落射击游戏 - 项目开发介绍文档

## 1. 项目概述
本项目是一款基于 Windows API (Win32) 开发的轻量级桌面打字射击游戏。通过 C++ 语言和原生 GDI 图形接口实现，集成了动态对象管理、物理模拟、数据持久化等核心功能。

## 2. 技术实现

### 2.1 核心架构
*   **并发管理**：使用 `std::vector` 管理动态生成的 `Letter` (字母) 和 `Particle` (粒子) 对象。
*   **消息驱动**：基于 Windows 窗口过程 (`WndProc`) 处理定时器更新、键盘输入和图形重绘。
*   **物理模拟**：
    *   字母下落速度随得分动态增长：`speed = 1.0f + score/50.0f`。
    *   粒子系统包含随机初速度和重力加速度模拟。

### 2.2 关键算法
*   **智能瞄准**：遍历匹配字母列表，选取 `y` 坐标最大（最靠近底部）的目标。
*   **连击加成**：得分计算公式为 `score += (1 + combo / 5)`，鼓励玩家保持精准。
*   **数据持久化**：使用二进制文件 `highscore.dat` 存储最高分，实现跨会话的数据保留。

### 2.3 图形与音效
*   **GDI 绘图**：利用 `TextOutW` 绘制文本，`LineTo` 绘制射击轨迹，`SetPixel` 绘制粒子点。
*   **音频反馈**：利用 `Beep` 函数根据不同事件（击中、失误、炸弹）生成不同频率的反馈音效。

## 3. 数据结构
```cpp
struct Letter {
    float x, y;
    char c;
    COLORREF color;
    float speed;
};

struct Particle {
    float x, y;
    float vx, vy;
    int life;
    COLORREF color;
};
```

## 4. 编译说明
使用 MinGW 编译环境：
```bash
g++ main.cpp -o game.exe -mwindows
```
该命令会自动链接 `gdi32`、`user32` 等核心系统库，并指定为 GUI 应用程序。

## 5. 目录结构
*   `main.cpp`：所有逻辑与界面的核心代码。
*   `README.md`：项目介绍与快速开始。
*   `操作手册.md`：用户指南。
*   `项目开发介绍文档.md`：技术文档。
*   `highscore.dat`：(自动生成) 最高分存储文件。
